<div class="contacts__details">
  <div class="contacts__headline">
    <h1>Contacts</h1>
    <div class="contacts__seperator"></div>
    <h4>Better with a team</h4>
    <button class="contacts__back-btn" type="button" (click)="back.emit()" aria-label="Back to list">
      <span class="material-icons">arrow_back</span>
    </button>
  </div>

  <div class="contacts__details__wrapper" [class.fade-in]="contact">
    @if (contact) {
      <div class="contacts__specifics">
        <div
          class="contacts__specifics__initals"
          [style.backgroundColor]="contact.color"
        >
          {{ contact.name | initials }}
        </div>

        <div class="contacts__specifics__name">
          <h2>{{ contact.name }}</h2>

          <div class="contacts__specifics__edits">
            <button type="button" (click)="onEdit()">
              <span class="material-icons">edit</span>
              Edit
            </button>

            <button type="button" (click)="onDelete()">
              <span class="material-icons">delete</span>
              Delete
            </button>
          </div>
        </div>
      </div>

      <div class="contacts__informations">
        <h5>Contact Information</h5>

        <div class="contacts__mail">
          <h6>Email</h6>
          <p><span>{{ contact.email }}</span></p>
        </div>

        <div class="contacts__phone">
          <h6>Phone</h6>
          <p>{{ contact.phone }}</p>
        </div>
      </div>
    }
  </div>

  <!-- Mobile Toggle Action Menu Button -->

  @if (contact) {
    <button
      class="btn btn--primary contacts__actions-fab"
      type="button"
      (click)="toggleActionsMenu()"
      aria-label="Open contact actions"
    >
      <span class="material-icons">more_vert</span>
    </button>

    @if (isActionsMenuOpen) {
      <div class="contacts__actions-overlay" (click)="closeActionsMenu()"></div>

      <div class="contacts__actions-menu">
        <button type="button" (click)="onEdit()">
          <span class="material-icons">edit</span>
          Edit
        </button>

        <button type="button" (click)="onDelete()">
          <span class="material-icons">delete</span>
          Delete
        </button>
      </div>
    }
  }
</div>
